(this.webpackJsonptodolist_hhx=this.webpackJsonptodolist_hhx||[]).push([[0],{54:function(t,e,c){},61:function(t,e,c){"use strict";c.r(e);var n=c(0),o=c.n(n),r=c(27),i=c.n(r),a=(c(54),c(13)),s=c(1),d=function(){return Object(s.jsxs)("nav",{className:"navbar",children:[Object(s.jsx)("h1",{children:"The Maple TodoList"}),Object(s.jsxs)("div",{className:"links",children:[Object(s.jsx)(a.b,{to:"/",children:"Home"}),Object(s.jsx)(a.b,{to:"/create",children:"New Todo"})]})]})},j=c(4),l=c(66),h=c(64),u=function(t){var e=t.todos,c=t.title,n=t.rmTodo,o=t.checkedTodo,r=t.rmAllDone;return Object(s.jsxs)("div",{className:"todo-list",children:[Object(s.jsx)("h2",{children:c}),Object(s.jsx)(h.a,{danger:!0,className:"clearAll",onClick:function(){return r()},children:"Clear All Completed"}),e.map((function(t){return Object(s.jsxs)("div",{className:"blog-preview",children:[Object(s.jsxs)(a.b,{to:"/todos/".concat(t._id),children:[Object(s.jsx)("h2",{children:t.title}),Object(s.jsxs)("p",{children:["initiator: ",t.author]})]}),Object(s.jsx)("input",{type:"checkbox",checked:t.isDone,onChange:function(){return o(t._id,!t.isDone)}}),Object(s.jsx)(l.a,{style:{color:"#fff"},twoToneColor:"#f1356d",className:"delete",onClick:function(){return n(t._id)}})]},t._id)}))]})},b=window.location.href,O=!!(b.startsWith("http://localhost")||b.startsWith("https://localhost")||b.startsWith("http://127.0.0.1")||b.startsWith("https://127.0.0.1"))?"http://localhost:3001":"https://www.hehaoxuan.top:3001/",f=function(){return"".concat(O)},x=function(t,e,c){var o=new AbortController,r=Object(n.useState)(null),i=Object(j.a)(r,2),a=i[0],s=i[1],d=Object(n.useState)(!0),l=Object(j.a)(d,2),h=l[0],u=l[1],b=Object(n.useState)(null),O=Object(j.a)(b,2),f=O[0],x=O[1];return Object(n.useEffect)((function(){return fetch(t,{method:e,body:JSON.stringify(c)}).then((function(t){if(!t.ok)throw Error("could not fetch data for that resource");return t.json()})).then((function(t){console.log(t),s(t),u(!1),x(null)})).catch((function(t){"AbortError"===t.name?console.log("fetch aborted"):(x(t.message),u(!1))})),function(){o.abort()}}),[t,e]),{data:a,isPending:h,error:f}},p=function(){var t=x(f(),"GET"),e=t.data,c=t.isPending,o=t.Error,r=Object(n.useState)(!1),i=Object(j.a)(r,2),a=i[0],d=i[1],l=Object(n.useState)(),h=Object(j.a)(l,2),b=h[0],p=h[1];Object(n.useEffect)((function(){p(e)}),[c]),Object(n.useEffect)((function(){m()}),[a]);var m=function(){console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/React-todoList",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).BASE_URL),fetch(f(),{method:"GET"}).then((function(t){if(!t.ok)throw o("could not fetch data for that resource");return t.json()})).then((function(t){p(t)}))};return Object(s.jsxs)("div",{className:"home",children:[b&&Object(s.jsx)(u,{todos:b,rmTodo:function(t){d(!0),fetch(function(t){return"".concat(O,"/").concat(t)}(t),{method:"DELETE",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(t)}).then((function(){d(!1)}))},checkedTodo:function(t,e){d(!0),fetch(function(t){return"".concat(O,"/").concat(t)}(t),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(e)}).then((function(){d(!1)}))},rmAllDone:function(){d(!0),fetch("".concat(O,"/clear"),{method:"GET"}).then((function(t){if(!t.ok)throw o("could not fetch data for that resource");return d(!1),t.json()}))},title:"All todos"}),o&&Object(s.jsx)("div",{children:o}),(c||a)&&Object(s.jsx)("div",{children:"Loading..."})]})},m=c(6),v=function(){var t=Object(n.useState)(""),e=Object(j.a)(t,2),c=e[0],o=e[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),a=i[0],d=i[1],l=Object(n.useState)(""),h=Object(j.a)(l,2),u=h[0],b=h[1],f=Object(n.useState)(!1),x=Object(j.a)(f,2),p=x[0],v=x[1],T=Object(m.f)();return Object(s.jsxs)("div",{className:"create",children:[Object(s.jsx)("h2",{children:"Add a New Todo"}),Object(s.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e={title:c,body:a,author:u,isDone:!1};v(!0),fetch("".concat(O,"/create"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(e)}).then((function(){v(!1),T.push("/")}))},children:[Object(s.jsx)("label",{children:"Todo Name:"}),Object(s.jsx)("input",{type:"text",required:!0,value:c,onChange:function(t){return o(t.target.value)}}),Object(s.jsx)("label",{children:"Todo Detail:"}),Object(s.jsx)("textarea",{type:"text",required:!0,value:a,onChange:function(t){return d(t.target.value)}}),Object(s.jsx)("label",{children:"Todo Author:"}),Object(s.jsx)("input",{type:"text",required:!0,value:u,onChange:function(t){return b(t.target.value)}}),!p&&Object(s.jsx)("button",{children:"Add new Todo"}),p&&Object(s.jsx)("button",{children:"Add Todo..."})]})]})},T=c(67),S=function(){var t=Object(m.g)().id,e=x(function(t){return"".concat(O,"/").concat(t)}(t),"GET"),c=e.data,n=e.error,o=e.isPending,r=Object(m.f)();return Object(s.jsxs)("div",{className:"blog-details",children:[Object(s.jsx)("div",{className:"backIcon",onClick:function(){r.push("/")},children:Object(s.jsx)(T.a,{style:{fontSize:"20px"}})}),o&&Object(s.jsx)("div",{children:"Loading..."}),n&&Object(s.jsx)("div",{children:n}),c&&Object(s.jsxs)("article",{children:[Object(s.jsxs)("h2",{children:[" ",c.title]}),Object(s.jsxs)("p",{children:[" Create by ",c.author," "]}),Object(s.jsx)("div",{children:c.body})]})]})},g=c(65),w=function(){var t=Object(m.f)();return Object(s.jsx)(g.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(s.jsx)(h.a,{type:"primary",onClick:function(){t.push("/")},children:"Back Home"})})};var y=function(){return Object(s.jsx)(a.a,{basename:"/React-todoList",children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(d,{}),Object(s.jsx)("div",{className:"content",children:Object(s.jsxs)(m.c,{children:[Object(s.jsx)(m.a,{exact:!0,path:"/",children:Object(s.jsx)(p,{})}),Object(s.jsx)(m.a,{exact:!0,path:"/create",children:Object(s.jsx)(v,{})}),Object(s.jsx)(m.a,{exact:!0,path:"/todos/:id",children:Object(s.jsx)(S,{})}),Object(s.jsx)(m.a,{path:"*",children:Object(s.jsx)(w,{})})]})})]})})};i.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(y,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.9d72f6f0.chunk.js.map