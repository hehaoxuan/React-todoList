(this.webpackJsonptodolist_hhx=this.webpackJsonptodolist_hhx||[]).push([[0],{53:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c.n(n),r=c(28),i=c.n(r),a=(c(53),c(14)),s=c(1),d=function(){return Object(s.jsxs)("nav",{className:"navbar",children:[Object(s.jsx)("h1",{children:"The Maple TodoList"}),Object(s.jsxs)("div",{className:"links",children:[Object(s.jsx)(a.b,{to:"/",children:"Home"}),Object(s.jsx)(a.b,{to:"/create",children:"New Todo"})]})]})},j=c(13),l=c(69),u=c(67),h=function(e){var t=e.todos,c=e.title,n=e.rmTodo,o=e.checkedTodo,r=e.rmAllDone;return Object(s.jsxs)("div",{className:"todo-list",children:[Object(s.jsx)("h2",{children:c}),Object(s.jsx)(u.a,{danger:!0,className:"clearAll",onClick:function(){return r()},children:"Clear All Completed"}),t.map((function(e){return Object(s.jsxs)("div",{className:"blog-preview",children:[Object(s.jsxs)(a.b,{to:"/todos/".concat(e._id),children:[Object(s.jsx)("h2",{children:e.title}),Object(s.jsxs)("p",{children:["initiator: ",e.author]})]}),Object(s.jsx)("input",{type:"checkbox",checked:e.isDone,onChange:function(){return o(e._id,!e.isDone)}}),Object(s.jsx)(l.a,{style:{color:"#fff"},twoToneColor:"#f1356d",className:"delete",onClick:function(){return n(e._id)}})]},e._id)}))]})},b="http://localhost:3001",O=function(){return"".concat(b)},f=function(e,t,c){var o=new AbortController,r=Object(n.useState)(null),i=Object(j.a)(r,2),a=i[0],s=i[1],d=Object(n.useState)(!0),l=Object(j.a)(d,2),u=l[0],h=l[1],b=Object(n.useState)(null),O=Object(j.a)(b,2),f=O[0],x=O[1];return Object(n.useEffect)((function(){return fetch(e,{method:t,body:JSON.stringify(c)}).then((function(e){if(!e.ok)throw Error("could not fetch data for that resource");return e.json()})).then((function(e){console.log(e),s(e),h(!1),x(null)})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(x(e.message),h(!1))})),function(){o.abort()}}),[e,t]),{data:a,isPending:u,error:f}},x=function(){var e=f(O(),"GET"),t=e.data,c=e.isPending,o=e.Error,r=Object(n.useState)(!1),i=Object(j.a)(r,2),a=i[0],d=i[1],l=Object(n.useState)(),u=Object(j.a)(l,2),x=u[0],p=u[1];Object(n.useEffect)((function(){p(t)}),[c]),Object(n.useEffect)((function(){m()}),[a]);var m=function(){fetch(O(),{method:"GET"}).then((function(e){if(!e.ok)throw o("could not fetch data for that resource");return e.json()})).then((function(e){p(e)}))};return Object(s.jsxs)("div",{className:"home",children:[x&&Object(s.jsx)(h,{todos:x,rmTodo:function(e){d(!0),fetch(function(e){return"".concat(b,"/").concat(e)}(e),{method:"DELETE",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(e)}).then((function(){d(!1)}))},checkedTodo:function(e,t){d(!0),fetch(function(e){return"".concat(b,"/").concat(e)}(e),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(t)}).then((function(){d(!1)}))},rmAllDone:function(){d(!0),fetch("".concat(b,"/clear"),{method:"GET"}).then((function(e){if(!e.ok)throw o("could not fetch data for that resource");return d(!1),e.json()}))},title:"All todos"}),o&&Object(s.jsx)("div",{children:o}),(c||a)&&Object(s.jsx)("div",{children:"Loading..."})]})},p=c(5),m=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],o=t[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),a=i[0],d=i[1],l=Object(n.useState)(""),u=Object(j.a)(l,2),h=u[0],O=u[1],f=Object(n.useState)(!1),x=Object(j.a)(f,2),m=x[0],v=x[1],g=Object(p.f)();return Object(s.jsxs)("div",{className:"create",children:[Object(s.jsx)("h2",{children:"Add a New Todo"}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={title:c,body:a,author:h,isDone:!1};v(!0),fetch("".concat(b,"/create"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(t)}).then((function(){v(!1),g.push("/")}))},children:[Object(s.jsx)("label",{children:"Todo Name:"}),Object(s.jsx)("input",{type:"text",required:!0,value:c,onChange:function(e){return o(e.target.value)}}),Object(s.jsx)("label",{children:"Todo Detail:"}),Object(s.jsx)("textarea",{type:"text",required:!0,value:a,onChange:function(e){return d(e.target.value)}}),Object(s.jsx)("label",{children:"Todo Author:"}),Object(s.jsx)("input",{type:"text",required:!0,value:h,onChange:function(e){return O(e.target.value)}}),!m&&Object(s.jsx)("button",{children:"Add new Todo"}),m&&Object(s.jsx)("button",{children:"Add Todo..."})]})]})},v=c(70),g=function(){var e=Object(p.g)().id,t=f(function(e){return"".concat(b,"/").concat(e)}(e),"GET"),c=t.data,n=t.error,o=t.isPending,r=Object(p.f)();return Object(s.jsxs)("div",{className:"blog-details",children:[Object(s.jsx)("div",{className:"backIcon",onClick:function(){r.push("/")},children:Object(s.jsx)(v.a,{style:{fontSize:"20px"}})}),o&&Object(s.jsx)("div",{children:"Loading..."}),n&&Object(s.jsx)("div",{children:n}),c&&Object(s.jsxs)("article",{children:[Object(s.jsxs)("h2",{children:[" ",c.title]}),Object(s.jsxs)("p",{children:[" Create by ",c.author," "]}),Object(s.jsx)("div",{children:c.body})]})]})},y=c(68),T=function(){var e=Object(p.f)();return Object(s.jsx)(y.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(s.jsx)(u.a,{type:"primary",onClick:function(){e.push("/")},children:"Back Home"})})};var w=function(){return Object(s.jsx)(a.a,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(d,{}),Object(s.jsx)("div",{className:"content",children:Object(s.jsxs)(p.c,{children:[Object(s.jsx)(p.a,{exact:!0,path:"/",children:Object(s.jsx)(x,{})}),Object(s.jsx)(p.a,{exact:!0,path:"/create",children:Object(s.jsx)(m,{})}),Object(s.jsx)(p.a,{exact:!0,path:"/todos/:id",children:Object(s.jsx)(g,{})}),Object(s.jsx)(p.a,{path:"*",children:Object(s.jsx)(T,{})})]})})]})})};i.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(w,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.db8f9a0f.chunk.js.map